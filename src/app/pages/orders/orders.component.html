<div class="m-5">

<p-table [value]="orders | async" [tableStyle]="{ 'min-width': '50rem', 'max-width': '1300px' }">
    <ng-template #header>
        <tr>
          <th pSortableColumn="userLogin">
            Логин <p-sortIcon field="userLogin"/>
          </th>
          <th pSortableColumn="tourId">
            Id Тура <p-sortIcon field="tourId"/>
          </th>
          <th>
            Кол-во туристов
          </th>
          <th>
            ФИО
          </th>
          <th></th>
        </tr>
    </ng-template>
    <ng-template #body let-order>
        <tr>
            <td>{{ order.userLogin }}</td>
            <td>
              {{ order.tourId }}
            </td>
            <td>{{ order.personalData.length }}</td>
            <td>
              @for (fio of order.personalData; track $index) {
                <p>{{fio.lastName}} {{fio.firstName}}</p>
              }
            </td>
            <td>
              <p-button
                variant="text"
                size="small"
                aria-label="Удалить"
                icon="pi pi-trash"
                severity="danger"
                (onClick)="removeItemToOrder($event, order)"
              />
            </td>
        </tr>
    </ng-template>
</p-table>
<p-confirmdialog styleClass="dialog-delete-tour"/>
</div>
